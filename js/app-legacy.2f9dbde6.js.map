{"version":3,"file":"js/app-legacy.2f9dbde6.js","mappings":"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","sources":["webpack://visualization/./src/assets/helpers/leaflet-heatmap.js","webpack://visualization/./src/App.vue?a065","webpack://visualization/./src/components/Map/Map.vue?7a10","webpack://visualization/./src/components/VehicleSidebar/VehicleSidebar.vue?6b21","webpack://visualization/src/components/VehicleSidebar/VehicleSidebar.vue","webpack://visualization/./src/components/VehicleSidebar/VehicleSidebar.vue?1aac","webpack://visualization/./src/components/VehicleSidebar/VehicleSidebar.vue","webpack://visualization/./src/components/CustomRoute/CustomRoute.vue?f2d0","webpack://visualization/src/components/CustomRoute/CustomRoute.vue","webpack://visualization/./src/components/CustomRoute/CustomRoute.vue?9024","webpack://visualization/./src/components/CustomRoute/CustomRoute.vue","webpack://visualization/./src/assets/helpers/grid-helper.js","webpack://visualization/./src/assets/helpers/TomTom.js","webpack://visualization/./src/assets/helpers/utility.js","webpack://visualization/./src/components/Map/Map.js","webpack://visualization/./src/components/Map/Map.js?23a6","webpack://visualization/./src/components/Map/Map.vue","webpack://visualization/src/App.vue","webpack://visualization/./src/App.vue?facb","webpack://visualization/./src/App.vue","webpack://visualization/./src/main.js","webpack://visualization/webpack/bootstrap","webpack://visualization/webpack/runtime/chunk loaded","webpack://visualization/webpack/runtime/compat get default export","webpack://visualization/webpack/runtime/define property getters","webpack://visualization/webpack/runtime/global","webpack://visualization/webpack/runtime/hasOwnProperty shorthand","webpack://visualization/webpack/runtime/make namespace object","webpack://visualization/webpack/runtime/publicPath","webpack://visualization/webpack/runtime/jsonp chunk loading","webpack://visualization/webpack/startup"],"sourcesContent":["/*\r\n* Leaflet Heatmap Overlay\r\n*\r\n* Copyright (c) 2008-2016, Patrick Wied (https://www.patrick-wied.at)\r\n* Dual-licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)\r\n* and the Beerware (http://en.wikipedia.org/wiki/Beerware) license.\r\n*/\r\n;(function (name, context, factory) {\r\n  // Supports UMD. AMD, CommonJS/Node.js and browser context\r\n  if (typeof module !== \"undefined\" && module.exports) {\r\n    module.exports = factory(\r\n      require('heatmap.js'),\r\n      require('leaflet')\r\n    );\r\n  } else if (typeof define === \"function\" && define.amd) {\r\n    define(['heatmap.js', 'leaflet'], factory);\r\n  } else {\r\n    // browser globals\r\n    if (typeof window.h337 === 'undefined') {\r\n      throw new Error('heatmap.js must be loaded before the leaflet heatmap plugin');\r\n    }\r\n    if (typeof window.L === 'undefined') {\r\n      throw new Error('Leaflet must be loaded before the leaflet heatmap plugin');\r\n    }\r\n    context[name] = factory(window.h337, window.L);\r\n  }\r\n\r\n})(\"HeatmapOverlay\", this, function (h337, L) {\r\n  'use strict';\r\n\r\n  // Leaflet < 0.8 compatibility\r\n  if (typeof L.Layer === 'undefined') {\r\n    L.Layer = L.Class;\r\n  }\r\n\r\n  var HeatmapOverlay = L.Layer.extend({\r\n\r\n    initialize: function (config) {\r\n      this.cfg = config;\r\n      this._el = L.DomUtil.create('div', 'leaflet-zoom-hide');\r\n      this._data = [];\r\n      this._max = 1;\r\n      this._min = 0;\r\n      this.cfg.container = this._el;\r\n    },\r\n\r\n    onAdd: function (map) {\r\n      var size = map.getSize();\r\n\r\n      this._map = map;\r\n\r\n      this._width = size.x;\r\n      this._height = size.y;\r\n\r\n      this._el.style.width = size.x + 'px';\r\n      this._el.style.height = size.y + 'px';\r\n      this._el.style.position = 'absolute';\r\n\r\n      this._origin = this._map.layerPointToLatLng(new L.Point(0, 0));\r\n\r\n      map.getPanes().overlayPane.appendChild(this._el);\r\n\r\n      if (!this._heatmap) {\r\n        this._heatmap = h337.create(this.cfg);\r\n      } \r\n\r\n      // this resets the origin and redraws whenever\r\n      // the zoom changed or the map has been moved\r\n      map.on('moveend', this._reset, this);\r\n      this._draw();\r\n    },\r\n\r\n    addTo: function (map) {\r\n      map.addLayer(this);\r\n      return this;\r\n    },\r\n\r\n    onRemove: function (map) {\r\n      // remove layer's DOM elements and listeners\r\n      map.getPanes().overlayPane.removeChild(this._el);\r\n\r\n      map.off('moveend', this._reset, this);\r\n    },\r\n    _draw: function() {\r\n      if (!this._map) { return; }\r\n      \r\n      var mapPane = this._map.getPanes().mapPane;\r\n      var point = mapPane._leaflet_pos;      \r\n\r\n      // reposition the layer\r\n      this._el.style[HeatmapOverlay.CSS_TRANSFORM] = 'translate(' +\r\n        -Math.round(point.x) + 'px,' +\r\n        -Math.round(point.y) + 'px)';\r\n\r\n      this._update();\r\n    },\r\n    _update: function() {\r\n      var bounds, zoom, scale;\r\n      var generatedData = { max: this._max, min: this._min, data: [] };\r\n\r\n      bounds = this._map.getBounds();\r\n      zoom = this._map.getZoom();\r\n      scale = Math.pow(2, zoom);\r\n\r\n      if (this._data.length == 0) {\r\n        if (this._heatmap) {\r\n          this._heatmap.setData(generatedData);\r\n        }\r\n        return;\r\n      }\r\n\r\n\r\n      var latLngPoints = [];\r\n      var radiusMultiplier = this.cfg.scaleRadius ? scale : 1;\r\n      var localMax = 0;\r\n      var localMin = 0;\r\n      var valueField = this.cfg.valueField;\r\n      var len = this._data.length;\r\n    \r\n      while (len--) {\r\n        var entry = this._data[len];\r\n        var value = entry[valueField];\r\n        var latlng = entry.latlng;\r\n\r\n\r\n        // we don't wanna render points that are not even on the map ;-)\r\n        if (!bounds.contains(latlng)) {\r\n          continue;\r\n        }\r\n        // local max is the maximum within current bounds\r\n        localMax = Math.max(value, localMax);\r\n        localMin = Math.min(value, localMin);\r\n\r\n        var point = this._map.latLngToContainerPoint(latlng);\r\n        var latlngPoint = { x: Math.round(point.x), y: Math.round(point.y) };\r\n        latlngPoint[valueField] = value;\r\n\r\n        var radius;\r\n\r\n        if (entry.radius) {\r\n          radius = entry.radius * radiusMultiplier;\r\n        } else {\r\n          radius = (this.cfg.radius || 2) * radiusMultiplier;\r\n        }\r\n        latlngPoint.radius = radius;\r\n        latLngPoints.push(latlngPoint);\r\n      }\r\n      if (this.cfg.useLocalExtrema) {\r\n        generatedData.max = localMax;\r\n        generatedData.min = localMin;\r\n      }\r\n\r\n      generatedData.data = latLngPoints;\r\n\r\n      this._heatmap.setData(generatedData);\r\n    },\r\n    setData: function(data) {\r\n      this._max = data.max || this._max;\r\n      this._min = data.min || this._min;\r\n      var latField = this.cfg.latField || 'lat';\r\n      var lngField = this.cfg.lngField || 'lng';\r\n      var valueField = this.cfg.valueField || 'value';\r\n    \r\n      // transform data to latlngs\r\n      var data = data.data;\r\n      var len = data.length;\r\n      var d = [];\r\n    \r\n      while (len--) {\r\n        var entry = data[len];\r\n        var latlng = new L.LatLng(entry[latField], entry[lngField]);\r\n        var dataObj = { latlng: latlng };\r\n        dataObj[valueField] = entry[valueField];\r\n        if (entry.radius) {\r\n          dataObj.radius = entry.radius;\r\n        }\r\n        d.push(dataObj);\r\n      }\r\n      this._data = d;\r\n    \r\n      this._draw();\r\n    },\r\n    // experimential... not ready.\r\n    addData: function(pointOrArray) {\r\n      if (pointOrArray.length > 0) {\r\n        var len = pointOrArray.length;\r\n        while(len--) {\r\n          this.addData(pointOrArray[len]);\r\n        }\r\n      } else {\r\n        var latField = this.cfg.latField || 'lat';\r\n        var lngField = this.cfg.lngField || 'lng';\r\n        var valueField = this.cfg.valueField || 'value';\r\n        var entry = pointOrArray;\r\n        var latlng = new L.LatLng(entry[latField], entry[lngField]);\r\n        var dataObj = { latlng: latlng };\r\n        \r\n        dataObj[valueField] = entry[valueField];\r\n        this._max = Math.max(this._max, dataObj[valueField]);\r\n        this._min = Math.min(this._min, dataObj[valueField]);\r\n\r\n        if (entry.radius) {\r\n          dataObj.radius = entry.radius;\r\n        }\r\n        this._data.push(dataObj);\r\n        this._draw();\r\n      }\r\n    },\r\n    _reset: function () {\r\n      this._origin = this._map.layerPointToLatLng(new L.Point(0, 0));\r\n      \r\n      var size = this._map.getSize();\r\n      if (this._width !== size.x || this._height !== size.y) {\r\n        this._width  = size.x;\r\n        this._height = size.y;\r\n\r\n        this._el.style.width = this._width + 'px';\r\n        this._el.style.height = this._height + 'px';\r\n\r\n        this._heatmap._renderer.setDimensions(this._width, this._height);\r\n      }\r\n      this._draw();\r\n    } \r\n  });\r\n\r\n  HeatmapOverlay.CSS_TRANSFORM = (function() {\r\n    var div = document.createElement('div');\r\n    var props = [\r\n      'transform',\r\n      'WebkitTransform',\r\n      'MozTransform',\r\n      'OTransform',\r\n      'msTransform'\r\n    ];\r\n\r\n    for (var i = 0; i < props.length; i++) {\r\n      var prop = props[i];\r\n      if (div.style[prop] !== undefined) {\r\n        return prop;\r\n      }\r\n    }\r\n    return props[0];\r\n  })();\r\n\r\n  return HeatmapOverlay;\r\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Map')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"map\"}}),_c('div',{staticClass:\"global-scores\",attrs:{\"id\":\"global-scores\",\"title\":\"Global Scores\"}}),(_vm.mouseCoordinates)?_c('div',{attrs:{\"id\":\"mouse-coordinates\"}},[_vm._v(\" \"+_vm._s(_vm.mouseCoordinates.lat.toFixed(4))+\", \"+_vm._s(_vm.mouseCoordinates.lng.toFixed(4))+\" \")]):_vm._e(),_c('i',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.sidebar\",modifiers:{\"sidebar\":true}}],staticClass:\"bi bi-gear-fill\",attrs:{\"id\":\"menu-icon\",\"title\":\"Click here to open sidebar\"}}),_c('i',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.routeSidebar\",modifiers:{\"routeSidebar\":true}}],staticClass:\"bi bi-menu-app\",attrs:{\"id\":\"routeSidebar-icon\",\"title\":\"Click here to open sidebar\"}}),_c('b-button',{attrs:{\"id\":\"copyRouteButton\",\"disabled\":!_vm.navigationMarkersSet,\"title\":\"Copy URL for our routing\"},on:{\"click\":_vm.copyNavigationRoute}},[_vm._v(\" Copy routing URL to clipboard \")]),_c('b-sidebar',{attrs:{\"id\":\"sidebar\",\"title\":\"Information / Data\",\"shadow\":\"\"}},[_c('div',{staticClass:\"px-3 py-2\"},[_c('b-form',{attrs:{\"title\":\"This data is required for calculating routes on demand.\"},on:{\"submit\":_vm.saveAPIKey}},[_c('b-form-group',{attrs:{\"label\":\"Api-Key:\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"API Key\"},model:{value:(_vm.input.apiKey),callback:function ($$v) {_vm.$set(_vm.input, \"apiKey\", $$v)},expression:\"input.apiKey\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Vehicle Data:\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"vehicleData\"},model:{value:(_vm.input.vehicleData),callback:function ($$v) {_vm.$set(_vm.input, \"vehicleData\", $$v)},expression:\"input.vehicleData\"}})],1),_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.vehicle-sidebar\",modifiers:{\"vehicle-sidebar\":true}}],attrs:{\"variant\":\"primary\"}},[_vm._v(\" Edit vehicles \")]),_c('b-button',{attrs:{\"variant\":\"success\",\"type\":\"submit\"}},[_vm._v(\"Save\")])],1),_c('b-form',{attrs:{\"title\":\"This data is required for a cost model.\"},on:{\"submit\":_vm.applyCostData}},[_c('h2',[_vm._v(\"Combustion\")]),_c('b-form-group',{attrs:{\"label\":\"Price per liter:\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Gas Price\",\"step\":\"0.01\",\"type\":\"number\"},model:{value:(_vm.gasPrice),callback:function ($$v) {_vm.gasPrice=$$v},expression:\"gasPrice\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Gas consumption per 100km in liter:\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Gas Consumption\",\"step\":\"0.001\",\"type\":\"number\"},model:{value:(_vm.gasConsumption),callback:function ($$v) {_vm.gasConsumption=$$v},expression:\"gasConsumption\"}})],1),_c('h2',[_vm._v(\"Electric\")]),_c('b-form-group',{attrs:{\"label\":\"Price per kWh:\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"price\",\"step\":\"0.01\",\"type\":\"number\"},model:{value:(_vm.kWhPrice),callback:function ($$v) {_vm.kWhPrice=$$v},expression:\"kWhPrice\"}})],1),_c('b-button',{attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Save\")])],1),_c('b-form',{attrs:{\"title\":\"Change constants of the website.\"},on:{\"submit\":_vm.changeConstants}},[_c('h2',[_vm._v(\"Constants\")]),_c('b-form-group',{attrs:{\"label\":\"Minimum distance in km between cities:\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Minimum distance\",\"step\":\"10\",\"type\":\"number\"},model:{value:(_vm.minRouteDistance),callback:function ($$v) {_vm.minRouteDistance=$$v},expression:\"minRouteDistance\"}})],1),_c('label',[_vm._v(\"Compare cities/routes based on:\")]),_c('b-form-select',{attrs:{\"options\":_vm.comparableAttributes},model:{value:(_vm.attributeToCompare),callback:function ($$v) {_vm.attributeToCompare=$$v},expression:\"attributeToCompare\"}}),_c('b-button',{attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Save\")])],1),_c('b-form',{on:{\"submit\":_vm.resetLocalStorage}},[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"danger\"}},[_vm._v(\" Reset Settings \")])],1),_c('h2',[_vm._v(\" Charging Stations \")]),_c('b-input',{attrs:{\"type\":\"number\",\"min\":\"0\",\"max\":\"300\",\"title\":\"Minimum rated kW\"},on:{\"input\":_vm.setupChargerHeatmap},model:{value:(_vm.chargerMinRatedKw),callback:function ($$v) {_vm.chargerMinRatedKw=$$v},expression:\"chargerMinRatedKw\"}}),_vm._v(\" min. \"+_vm._s(_vm.chargerMinRatedKw)+\" kWh (total: \"+_vm._s(_vm.chargerCount)+\") \"),_c('b-checkbox',{attrs:{\"switch\":\"\"},on:{\"change\":_vm.setupChargerHeatmap},model:{value:(_vm.showChargers),callback:function ($$v) {_vm.showChargers=$$v},expression:\"showChargers\"}},[_vm._v(\" Show Charging stations heatmap\")])],1)]),_c('VehicleSidebar',{attrs:{\"vehicleData\":_vm.vehicleData},on:{\"change\":_vm.updateVehicleData}}),_c('CustomRoute',{on:{\"input\":_vm.displayCustomRoute}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-sidebar',{attrs:{\"id\":\"vehicle-sidebar\",\"title\":\"Vehicles\",\"shadow\":\"\",\"right\":\"\"}},[_c('b-list-group',_vm._l((_vm.data),function(vehicle,idx){return _c('b-list-group-item',{key:idx},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center vehicle-info\"},[_vm._v(\" \"+_vm._s(vehicle.name)+\" \"),_c('span',[_c('b-checkbox',{attrs:{\"switch\":\"\"},model:{value:(vehicle.active),callback:function ($$v) {_vm.$set(vehicle, \"active\", $$v)},expression:\"vehicle.active\"}}),_c('i',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:((\"vehicle-\" + idx)),expression:\"`vehicle-${idx}`\"}],staticClass:\"bi bi-pencil-square edit-button\",attrs:{\"title\":\"Edit vehicle\"}}),_c('button',{staticClass:\"close\",staticStyle:{\"margin-top\":\"-3px\"},attrs:{\"type\":\"button\",\"aria-label\":\"Close\",\"title\":\"Delete Vehicle\"},on:{\"click\":function($event){return _vm.deleteVehicle(vehicle.name)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])],1)]),_c('b-collapse',{attrs:{\"id\":(\"vehicle-\" + idx)}},[_c('b-form',[_vm._l((_vm.attributes),function(attribute){return _c('b-form-group',{key:attribute.name,attrs:{\"label\":((attribute.label) + \":\")}},[_c('b-form-input',{staticClass:\"vehicle-input\",attrs:{\"placeholder\":attribute.placeholder,\"type\":attribute.type ? attribute.type : 'text',\"min\":\"0\",\"step\":attribute.step,\"max\":attribute.max},model:{value:(vehicle[attribute.name]),callback:function ($$v) {_vm.$set(vehicle, attribute.name, $$v)},expression:\"vehicle[attribute.name]\"}}),(attribute.required)?_c('b-form-text',[_vm._v(\"Required\")]):_vm._e()],1)}),_c('b-form-textarea',{attrs:{\"rows\":\"10\",\"required\":\"\"},model:{value:(vehicle.rawBody),callback:function ($$v) {_vm.$set(vehicle, \"rawBody\", $$v)},expression:\"vehicle.rawBody\"}}),_c('b-form-text',[_vm._v(\"Required\")])],2)],1)],1)}),1),_c('b-badge',{attrs:{\"id\":\"add-button\"},on:{\"click\":_vm.addVehicle}},[_vm._v(\" Add vehicle \")]),_c('b-button-group',[_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.update}},[_vm._v(\" Save \")]),_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":_vm.loadData}},[_vm._v(\" Reset \")]),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.downloadData}},[_vm._v(\" Download \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-sidebar id=\"vehicle-sidebar\" title=\"Vehicles\" shadow right>\r\n        <b-list-group>\r\n            <b-list-group-item\r\n                v-for=\"(vehicle, idx) in data\"\r\n                :key=\"idx\"\r\n            >\r\n                <div class=\"d-flex justify-content-between align-items-center vehicle-info\">\r\n                    {{vehicle.name}}\r\n                    <span>\r\n                        <b-checkbox v-model=\"vehicle.active\" switch></b-checkbox>\r\n                        <i v-b-toggle=\"`vehicle-${idx}`\" class=\"bi bi-pencil-square edit-button\" title=\"Edit vehicle\"></i>\r\n                        <button type=\"button\" class=\"close\" aria-label=\"Close\" title=\"Delete Vehicle\" @click=\"deleteVehicle(vehicle.name)\" style=\"margin-top:-3px;\">\r\n                            <span aria-hidden=\"true\"></span>\r\n                        </button>\r\n                    </span>\r\n                </div>\r\n                <b-collapse :id=\"`vehicle-${idx}`\">\r\n                    <b-form>\r\n                        <b-form-group v-for=\"attribute in attributes\" :key=\"attribute.name\" :label=\"`${attribute.label}:`\">\r\n                            <b-form-input\r\n                                class=\"vehicle-input\"\r\n                                v-model=\"vehicle[attribute.name]\"\r\n                                :placeholder=\"attribute.placeholder\"\r\n                                :type=\"attribute.type ? attribute.type : 'text'\"\r\n                                min=\"0\"\r\n                                :step=\"attribute.step\"\r\n                                :max=\"attribute.max\"\r\n                                ></b-form-input>\r\n                                <b-form-text v-if=\"attribute.required\">Required</b-form-text>\r\n                        </b-form-group>\r\n                        <b-form-textarea v-model=\"vehicle.rawBody\" rows=\"10\" required />\r\n                        <b-form-text>Required</b-form-text>\r\n                    </b-form>\r\n                    <!-- TODO: Body input field -->\r\n                </b-collapse>\r\n            </b-list-group-item>\r\n        </b-list-group>\r\n        <b-badge @click=\"addVehicle\" id=\"add-button\"> Add vehicle </b-badge>\r\n        <b-button-group>\r\n            <b-button @click=\"update\" variant=\"success\"> Save </b-button>\r\n            <b-button @click=\"loadData\" variant=\"warning\"> Reset </b-button>\r\n            <b-button @click=\"downloadData\" variant=\"primary\"> Download </b-button>\r\n        </b-button-group>\r\n    </b-sidebar>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: [ \"vehicleData\" ],\r\n    data() {\r\n        return {\r\n            data: [],\r\n            attributes: [\r\n                { name: \"name\", label: \"Name\", required: true },\r\n                { name: \"maxCharge\", label: \"Max Charge\", type: \"number\", step: \"0.1\", required: true },\r\n                { name: \"currentChargeInkWh\", label: \"Current Charge\", type: \"number\", step: \"0.1\" },\r\n                { name: \"uphillEfficiency\", label: \"Uphill Efficiency\", type: \"number\", step: \"0.01\", max: \"1\" },\r\n                { name: \"downhillEfficiency\", label: \"Downhill Efficiency\", type: \"number\", step: \"0.01\", max: \"1\" },\r\n                { name: \"constantSpeedConsumption\", label: \"Constant Speed Consumption\", placeholder: \"30,6.4:65,9.2:120,22.1\", required: true },\r\n                { name: \"minChargeAtDestinationInkWh\", label: \"Min Charge at Destination (kWh)\", type: \"number\", step: \"0.01\" },\r\n                { name: \"minChargeAtChargingStopsInkWh\", label: \"Min Charge at Charging Stops (kWh)\", type: \"number\", step: \"0.01\" },\r\n                { name: \"weight\", label: \"Weight (kg)\", type: \"number\" },\r\n                { name: \"color\", label: \"Color\", type: \"color\" },\r\n                { name: \"auxiliaryPower\", label: \"Auxiliary Power\", type: \"number\", step: \"0.01\", max: \"1\" },\r\n            ]\r\n        }\r\n    },\r\n    watch: {\r\n        vehicleData() {\r\n            this.loadData();\r\n        }\r\n    },\r\n    mounted() {\r\n        this.loadData();\r\n    },\r\n    methods: {\r\n        addVehicle() {\r\n            const newVehicle = {\r\n                name: `Vehicle ${this.data.length + 1}`\r\n            };\r\n            this.data.push(newVehicle);\r\n        },\r\n        deleteVehicle(name) {\r\n            this.data = this.data.filter(vehicle => vehicle.name != name);\r\n        },\r\n        loadData() {\r\n            this.data = JSON.parse(JSON.stringify(this.vehicleData)); // make a copy\r\n            this.data.forEach((vehicle) => {\r\n                vehicle[\"rawBody\"] = JSON.stringify(vehicle.body, null, 2);\r\n                if (vehicle.active == null)\r\n                    vehicle[\"active\"] = true;\r\n            });\r\n        },\r\n        downloadData() {\r\n            const a = document.createElement('a');\r\n            this.data.forEach((vehicle) => {\r\n                vehicle.body = JSON.parse(vehicle.rawBody);\r\n                this.attributes.forEach((attribute) => {\r\n                    if (!(attribute.type && attribute.type == \"number\"))\r\n                        return;\r\n                    vehicle[attribute.name] = Number(vehicle[attribute.name]);\r\n                });\r\n            });\r\n            a.href = URL.createObjectURL(\r\n                new Blob([JSON.stringify(this.data, null, 4)], {\r\n                    type: 'text/plain',\r\n                })\r\n            );\r\n            a.setAttribute('download', 'vehicleData.json');\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        },\r\n        update() {\r\n            this.data.forEach((vehicle) => {\r\n                vehicle.body = JSON.parse(vehicle.rawBody);\r\n                this.attributes.forEach((attribute) => {\r\n                    if (!(attribute.type && attribute.type == \"number\"))\r\n                        return;\r\n                    if (!vehicle[attribute.name])\r\n                        return;\r\n                    vehicle[attribute.name] = Number(vehicle[attribute.name]);\r\n                });\r\n            });\r\n            this.$emit(\"change\", this.data);\r\n            this.$bvToast.toast(`The vehicle data has been updated`, {\r\n                title: 'Updated',\r\n                autoHideDelay: 2500,\r\n                variant: \"success\"\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped src=\"./VehicleSidebar.css\">\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VehicleSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VehicleSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VehicleSidebar.vue?vue&type=template&id=3a9850ee&scoped=true&\"\nimport script from \"./VehicleSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./VehicleSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VehicleSidebar.css?vue&type=style&index=0&id=3a9850ee&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a9850ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-sidebar',{attrs:{\"id\":\"routeSidebar\",\"title\":\"Visualize response\"}},[_c('b-textarea',{attrs:{\"rows\":\"20\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}}),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.process}},[_vm._v(\" Process \")]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.clear}},[_vm._v(\" Clear \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-sidebar id=\"routeSidebar\" title=\"Visualize response\">\r\n        <b-textarea v-model=\"input\" rows=\"20\"/>\r\n        <b-button @click=\"process\" variant=\"success\"> Process </b-button>\r\n        <b-button @click=\"clear\" variant=\"danger\"> Clear </b-button>\r\n    </b-sidebar>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            input: \"\",\r\n        }\r\n    },\r\n    methods: {\r\n        process() {\r\n            this.$emit(\"input\", this.input);\r\n        },\r\n        clear() {\r\n            this.input = \"\";\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomRoute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomRoute.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomRoute.vue?vue&type=template&id=766ae61c&\"\nimport script from \"./CustomRoute.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomRoute.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const BOTTOM_LEFT = {lat: 47.2, lng: 5.2};\r\n\r\nexport function coordinatesToCellCenter(coordinates, cellsize = 10) {\r\n    const kmCoordinates = coordinateDifferenceInKm(coordinates, BOTTOM_LEFT);\r\n    const cell = gridCellFromKm(kmCoordinates, cellsize);\r\n    return cellToCenterCoordinates(cell);\r\n}\r\n\r\nexport function coordinatesToCellPolygon(coordinates, cellsize = 10) {\r\n    const kmCoordinates = coordinateDifferenceInKm(coordinates, BOTTOM_LEFT);\r\n    const cell = gridCellFromKm(kmCoordinates, cellsize);\r\n    return cellToPolygon(cell);\r\n}\r\n\r\nfunction coordinateDifferenceInKm(latlng1, latlng2) {\r\n    const dy = 111.3 * (latlng1.lat - latlng2.lat);\r\n    const dx = 71.5 * (latlng1.lng - latlng2.lng);\r\n    const distance = Math.sqrt(dx * dx + dy * dy);\r\n    return {\r\n        y: dy,\r\n        x: dx,\r\n        distance\r\n    }\r\n}\r\n\r\nfunction kmToCoordinates(kmCoordinates, positionOffset) {\r\n    const lat = kmCoordinates.y / 111.3 + positionOffset.lat;\r\n    const lng = kmCoordinates.x / 71.5 + positionOffset.lng;\r\n    return {\r\n        lat,\r\n        lng\r\n    }\r\n}\r\n\r\n/**\r\n * @param {object} kmCoordinates The coordinates to get cell for.\r\n * @param {number} cellsize The size of a cell in km.\r\n * @return {object} {x: int, y: int} the indizes of the grid cell.\r\n */\r\nfunction gridCellFromKm(kmCoordinates, cellsize = 10) {\r\n    if (!kmCoordinates)\r\n        return null;\r\n    const x = Math.floor(kmCoordinates.x / cellsize);\r\n    const y = Math.floor(kmCoordinates.y / cellsize);\r\n    return {\r\n        x,\r\n        y\r\n    }\r\n}\r\n\r\n// cellIndizes is { x: int, y: int }\r\nfunction cellToCenterCoordinates(cellIndizes, cellsize = 10) {\r\n    const x = (cellIndizes.x + 0.5) * cellsize;\r\n    const y = (cellIndizes.y + 0.5) * cellsize;\r\n    return kmToCoordinates({x, y}, BOTTOM_LEFT);\r\n}\r\n\r\nfunction cellToPolygon(cellIndizes, cellsize = 10) {\r\n    const left = (cellIndizes.x) * cellsize;\r\n    const right = (cellIndizes.x + 1) * cellsize;\r\n    const bottom = (cellIndizes.y + 1) * cellsize;\r\n    const top = (cellIndizes.y) * cellsize;\r\n    const bottomLeft = kmToCoordinates({x: left, y: bottom}, BOTTOM_LEFT);\r\n    const bottomRight = kmToCoordinates({x: right, y: bottom}, BOTTOM_LEFT);\r\n    const topLeft = kmToCoordinates({x: left, y: top}, BOTTOM_LEFT);\r\n    const topRight = kmToCoordinates({x: right, y: top}, BOTTOM_LEFT);\r\n    return [[bottomLeft.lat, bottomLeft.lng], [bottomRight.lat, bottomRight.lng], [topRight.lat, topRight.lng], [topLeft.lat, topLeft.lng]];\r\n}","const baseUrlCombustion = \"https://api.tomtom.com/routing/1/calculateRoute\";\r\nconst baseUrlEV =\r\n    \"https://api.tomtom.com/routing/1/calculateLongDistanceEVRoute\";\r\nconst baseUrlRange =\r\n    \"https://api.tomtom.com/routing/1/calculateReachableRange\";\r\nconst baseUrlCustom = \"http://localhost:1234/routing/1/calculateRoute\";\r\nconst traffic = false;\r\nconst DEFAULTS = {\r\n    CURRENT_CHARGE_PCT: 0.8,\r\n    MIN_CHARGE_AT_CHARGING_STOP: 0.1,\r\n    MIN_CHARGE_AT_DESTINATION: 0.2\r\n};\r\n\r\n\r\n/**\r\n * \r\n * @param {string} coordinates of format \"startLat,startLong:destLat,destLong\"\r\n * @param {string} key a valid API-Key for the TomTom API\r\n * @param {function} callback a function that gets called with the response\r\n */\r\nexport function calculateCombustionRoute(coordinates, key, callback) {\r\n    const url = `${baseUrlCombustion}/${coordinates}/json?\\\r\nmaxAlternatives=0&language=de-DE\\\r\n&computeBestOrder=false\\\r\n&routeRepresentation=polyline\\\r\n&computeTravelTimeFor=all\\\r\n&sectionType=travelMode\\\r\n&departAt=now\\\r\n&routeType=fastest\\\r\n&traffic=${traffic}\\\r\n&avoid=unpavedRoads\\\r\n&travelMode=car\\\r\n&vehicleCommercial=false\\\r\n&vehicleEngineType=combustion\\\r\n&key=${key}`;\r\n    httpGetAsync(url, callback, { name: \"Combustion\" });\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} coordinates of format \"startLat,startLong:destLat,destLong\"\r\n * @param {string} key a valid API-Key for the TomTom API\r\n * @param {[vehicle1, vehicle2, ...]} vehicleData a list of all the vehicles to calculate routes for\r\n * @param {function} callback a function that gets called with the response\r\n */\r\nexport function calculateEVRoutes(coordinates, key, vehicleData, callback, context = null) {\r\n    vehicleData.forEach((vehicle) => {\r\n        if (vehicle.active == false) // only skip vehicles that have active attribute and it's value is false\r\n            return;\r\n        calculateEVRoute(coordinates, key, vehicle, callback, context);\r\n        calculateOwnEVRoute(coordinates, JSON.parse(JSON.stringify(vehicle)), callback, context);\r\n    });\r\n}\r\n\r\nexport function getOwnUrl(coordinates, vehicle, defaults = DEFAULTS) {\r\n    var url = `${baseUrlCustom}/${coordinates}/json?`;\r\n    url += `maxChargeInkWh=${vehicle.maxCharge}`;\r\n    url += `&constantSpeedConsumptionInkWhPerHundredkm=${vehicle.constantSpeedConsumption}`;\r\n    if (vehicle.currentChargeInkWh)\r\n        url += `&currentChargeInkWh=${vehicle.currentChargeInkWh.toFixed(2)}`;\r\n    else\r\n        url += `&currentChargeInkWh=${(vehicle.maxCharge * DEFAULTS.CURRENT_CHARGE_PCT).toFixed(2)}`;\r\n    if (vehicle.minChargeAtDestinationInkWh)\r\n        url += `&minChargeAtDestinationInkWh=${vehicle.minChargeAtDestinationInkWh.toFixed(2)}`;\r\n    else\r\n        url += `&minChargeAtDestinationInkWh=${(vehicle.maxCharge * defaults.MIN_CHARGE_AT_DESTINATION).toFixed(2)}`;\r\n    if (vehicle.minChargeAtChargingStopsInkWh)\r\n        url += `&minChargeAtChargingStopsInkWh=${vehicle.minChargeAtChargingStopsInkWh.toFixed(2)}`;\r\n    else\r\n        url += `&minChargeAtChargingStopsInkWh=${(vehicle.maxCharge * defaults.MIN_CHARGE_AT_CHARGING_STOP).toFixed(2)}`;\r\n    return url;\r\n}\r\n\r\nexport function calculateOwnEVRoute(coordinates, vehicle, callback, context = null) {\r\n    const url = getOwnUrl(coordinates, vehicle);\r\n    vehicle.name += \" (ours)\";\r\n    vehicle.color = \"#ff0000\";\r\n    httpPostAsync(url, JSON.stringify(vehicle.body), callback, vehicle, context);\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} coordinates of format \"startLat,startLong:destLat,destLong\"\r\n * @param {string} key a valid API-Key for the TomTom API\r\n * @param {Object} vehicle a specific vehicles to calculate the route for\r\n * @param {function} callback a function that gets called with the response\r\n */\r\nexport function calculateEVRoute(coordinates, key, vehicle, callback, context = null, defaults = DEFAULTS) {\r\n    const body = JSON.stringify(vehicle.body);\r\n    var url = `${baseUrlEV}/${coordinates}/json?vehicleEngineType=electric&avoid=unpavedRoads&traffic=${traffic}`;\r\n    url += `&key=${key}`;\r\n    url += `&constantSpeedConsumptionInkWhPerHundredkm=${vehicle.constantSpeedConsumption}`;\r\n    url += `&maxChargeInkWh=${vehicle.maxCharge}`;\r\n    if (vehicle.currentChargeInkWh)\r\n        url += `&currentChargeInkWh=${vehicle.currentChargeInkWh.toFixed(2)}`;\r\n    else\r\n        url += `&currentChargeInkWh=${(vehicle.maxCharge * defaults.CURRENT_CHARGE_PCT).toFixed(2)}`;\r\n    if (vehicle.minChargeAtDestinationInkWh)\r\n        url += `&minChargeAtDestinationInkWh=${vehicle.minChargeAtDestinationInkWh.toFixed(2)}`;\r\n    else\r\n        url += `&minChargeAtDestinationInkWh=${(vehicle.maxCharge * defaults.MIN_CHARGE_AT_DESTINATION).toFixed(2)}`;\r\n    if (vehicle.minChargeAtChargingStopsInkWh)\r\n        url += `&minChargeAtChargingStopsInkWh=${vehicle.minChargeAtChargingStopsInkWh.toFixed(2)}`;\r\n    else\r\n        url += `&minChargeAtChargingStopsInkWh=${(vehicle.maxCharge * defaults.MIN_CHARGE_AT_CHARGING_STOP).toFixed(2)}`;\r\n    if (vehicle.weight)\r\n        url += `&vehicleWeight=${vehicle.weight}`;\r\n    if (vehicle.uphillEfficiency)\r\n        url += `&uphillEfficiency=${vehicle.uphillEfficiency}`;\r\n    if (vehicle.downhillEfficiency)\r\n        url += `&downhillEfficiency=${vehicle.downhillEfficiency}`;\r\n    if (vehicle.auxiliaryPower)\r\n        url += `&auxiliaryPowerInkW=${vehicle.auxiliaryPower}`;\r\n    \r\n    httpPostAsync(url, body, callback, vehicle, context);\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} coordinates of format \"startLat,startLong:destLat,destLong\"\r\n * @param {string} key a valid API-Key for the TomTom API\r\n * @param {Object} vehicle a specific vehicles to calculate the route for\r\n * @param {number} energyBudgetInkWh the range in kWh to display as a polygon\r\n * @param {function} callback a function that gets called with the response\r\n */\r\nexport function calculateReachableRange(coordinates, key, vehicle, energyBudgetInkWh, callback) {\r\n    let url = `${baseUrlRange}/${coordinates}/json?vehicleEngineType=electric&avoid=unpavedRoads&key=${key}\\\r\n&energyBudgetInkWh=${energyBudgetInkWh.toFixed(2)}\\\r\n&traffic=${traffic}\\\r\n&constantSpeedConsumptionInkWhPerHundredkm=${vehicle.constantSpeedConsumption}\\\r\n&currentChargeInkWh=${energyBudgetInkWh.toFixed(2)}\\\r\n&maxChargeInkWh=${vehicle.maxCharge}`;\r\n    if (vehicle.weight)\r\n        url += `&vehicleWeight=${vehicle.weight}`;\r\n    if (vehicle.uphillEfficiency)\r\n        url += `&uphillEfficiency=${vehicle.uphillEfficiency}`;\r\n    if (vehicle.downhillEfficiency)\r\n        url += `&downhillEfficiency=${vehicle.downhillEfficiency}`;\r\n    if (vehicle.auxiliaryPower)\r\n        url += `&auxiliaryPowerInkW=${vehicle.auxiliaryPower}`;\r\n    httpGetAsync(url, callback, vehicle);\r\n}\r\n\r\nfunction httpGetAsync(theUrl, callback, callbackInfo = null, context = null) {\r\n    var xmlHttp = new XMLHttpRequest();\r\n    xmlHttp.onreadystatechange = function () {\r\n        if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\r\n            if (callbackInfo) callback(xmlHttp.responseText, callbackInfo);\r\n            else callback(xmlHttp.responseText);\r\n        } else if (xmlHttp.readyState == 4) {\r\n            if (context)\r\n                context.$bvToast.toast(xmlHttp.responseText, {\r\n                    title: `Error ${xmlHttp.status} receiving data for ${callbackInfo.name} (GET)`,\r\n                    noAutoHide: true,\r\n                    variant: \"danger\"\r\n                });\r\n            console.warn(xmlHttp.status, xmlHttp.responseText);\r\n        }\r\n    };\r\n    xmlHttp.open(\"GET\", theUrl, true); // true for asynchronous\r\n    xmlHttp.send(null);\r\n}\r\n\r\nfunction httpPostAsync(theUrl, body, callback, callbackInfo = null, context = null) {\r\n    var xmlHttp = new XMLHttpRequest();\r\n    xmlHttp.onreadystatechange = function () {\r\n        if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\r\n            if (callbackInfo) callback(xmlHttp.responseText, callbackInfo);\r\n            else callback(xmlHttp.responseText);\r\n        } else if (xmlHttp.readyState == 4) {\r\n            if (context)\r\n                context.$bvToast.toast(xmlHttp.responseText, {\r\n                    title: `Error ${xmlHttp.status} receiving data for ${callbackInfo.name} (POST)`,\r\n                    noAutoHide: true,\r\n                    variant: \"danger\"\r\n                });\r\n            console.warn(xmlHttp.status, xmlHttp.responseText);\r\n        }\r\n    };\r\n    xmlHttp.open(\"POST\", theUrl, true); // true for asynchronous\r\n    xmlHttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n    xmlHttp.send(body);\r\n}","export function toHHMMSS(secs) {\r\n    var sec_num = parseInt(secs, 10);\r\n    var hours = Math.floor(sec_num / 3600);\r\n    var minutes = Math.floor(sec_num / 60) % 60;\r\n    var seconds = sec_num % 60;\r\n\r\n    return [hours, minutes, seconds]\r\n        .map((v) => (v < 10 ? \"0\" + v : v))\r\n        .filter((v, i) => v !== \"00\" || i > 0)\r\n        .join(\":\");\r\n};","import cityData from '@/assets/data/cityData.json';\r\nimport routeData from '@/assets/data/routeData.json';\r\nimport pointData from '@/assets/data/pointData.json';\r\nimport gridData from '@/assets/data/gridData.json';\r\nimport chargerData from '@/assets/data/chargerData.json';\r\nimport exampleVehicles from '@/assets/data/exampleVehicles.json';\r\nimport ionityChargers from '@/assets/data/IONITYChargers.json';\r\nimport VehicleSidebar from '@/components/VehicleSidebar/VehicleSidebar.vue';\r\nimport CustomRoute from '@/components/CustomRoute/CustomRoute.vue';\r\nimport { coordinatesToCellCenter, coordinatesToCellPolygon } from '@/assets/helpers/grid-helper';\r\nimport { calculateEVRoutes, calculateCombustionRoute, calculateReachableRange, getOwnUrl } from '@/assets/helpers/TomTom';\r\nimport { toHHMMSS } from '@/assets/helpers/utility';\r\nimport $ from 'jquery';\r\nconst baseUrlCombustion = \"https://api.tomtom.com/routing/1/calculateRoute\";\r\nconst baseUrlEV =\r\n    \"https://api.tomtom.com/routing/1/calculateLongDistanceEVRoute\";\r\nconst traffic = false;\r\nconst HeatmapOverlay = require('@/assets/helpers/leaflet-heatmap');\r\n\r\nexport default {\r\n    components: { VehicleSidebar, CustomRoute },\r\n    data () {\r\n        return {\r\n            map: null,\r\n            routeLayer: null,\r\n            vehicleLayers: {},\r\n            vehicleControl: null,\r\n            heatmapLayer: null,\r\n            gridHeatmapLayer: null,\r\n            gridVehiclesLayer: {},\r\n            rangeLayer: null,\r\n            chargerLayer: null,\r\n            ionityLayer: null,\r\n            cityLayer: null,\r\n            gridLayer: null,\r\n            navigationMarker: {start: null, dest: null},\r\n            overlayMaps: {},\r\n            popup: null,\r\n            cityData: cityData,\r\n            routeData: routeData,\r\n            vehicleData: exampleVehicles,\r\n            gasPrice: 2.0, // price per liter\r\n            gasConsumption: 6.9, // liter per 100 km\r\n            kWhPrice: 0.4, // price per kWh\r\n            minRouteDistance: 100,\r\n            chargerMinRatedKw: 50,\r\n            chargerCount: 0,\r\n            showChargers: false,\r\n            attributeToCompare : \"timeFactor\",\r\n            comparableAttributes: [\r\n                { value: \"timeFactor\", text: \"Time factor\" },\r\n                { value: \"distanceFactor\", text: \"Distance factor\" },\r\n                { value: \"costsFactor\", text: \"Costs factor\" }\r\n            ],\r\n            mouseCoordinates: null,\r\n            cellCenterMarker: null,\r\n            cellPolygon: null,\r\n            input: {\r\n                vehicleData: JSON.stringify(exampleVehicles),\r\n                apiKey: \"\",\r\n            }\r\n        };\r\n    },\r\n    computed: {\r\n        navigationMarkersSet() {\r\n            return (this.navigationMarker[\"start\"] && this.navigationMarker[\"dest\"])\r\n        }\r\n    },\r\n    mounted() {\r\n        this.loadLocalStorage();\r\n        this.setupMap();\r\n    },\r\n    methods: {\r\n        displayCustomRoute(response) {\r\n            const vehicleInfo = {\"name\": \"Test Vehicle\", color: \"#ff1234\"};\r\n            this.displayAPIResult(response, vehicleInfo);\r\n        },\r\n        showError(title, message) {\r\n            this.$bvToast.toast(message, {\r\n                title,\r\n                autoHideDelay: 5000,\r\n                variant: \"danger\"\r\n            });\r\n        },\r\n        updateVehicleData(data) {\r\n            this.vehicleData = data;\r\n            localStorage.setItem(\"vehicleData\", JSON.stringify(data));\r\n            this.input.vehicleData = JSON.stringify(data);\r\n        },\r\n        setupRouteHeatmap() {         \r\n            const cfg = {\r\n                // radius should be small ONLY if scaleRadius is true (or small radius is intended)\r\n                // if scaleRadius is false it will be the constant radius used in pixels\r\n                \"radius\": 0.03,\r\n                \"maxOpacity\": 0.65,\r\n                // scales the radius based on map zoom\r\n                \"scaleRadius\": true,\r\n                \"useLocalExtrema\": false,\r\n                latField: 'lat',\r\n                lngField: 'long',\r\n                // which field name in your data represents the data value - default \"value\"\r\n                valueField: 'frequency'\r\n            };\r\n            let heatmapRouteLayer = new HeatmapOverlay(cfg);\r\n            const heatmapData = {\r\n                min: 0,\r\n                max: 350,\r\n                data: pointData\r\n            };\r\n            heatmapRouteLayer.setData(heatmapData);\r\n            return heatmapRouteLayer;\r\n        },\r\n        setupGridHeatmap() {         \r\n            const cfg = {\r\n                // radius should be small ONLY if scaleRadius is true (or small radius is intended)\r\n                // if scaleRadius is false it will be the constant radius used in pixels\r\n                \"radius\": 0.1,\r\n                \"maxOpacity\": 0.65,\r\n                // scales the radius based on map zoom\r\n                \"scaleRadius\": true,\r\n                \"useLocalExtrema\": false,\r\n                latField: 'lat',\r\n                lngField: 'lng',\r\n                // which field name in your data represents the data value - default \"value\"\r\n                valueField: 'count'\r\n            };\r\n            var gridHeatmapLayer = new HeatmapOverlay(cfg);\r\n            const _gridData = [];\r\n            Object.keys(gridData).forEach((lat) => {\r\n                const latEntry = gridData[lat];\r\n                Object.keys(latEntry).forEach((lng) => {\r\n                    const cellEntry = latEntry[lng];\r\n                    _gridData.push({\r\n                        lat,\r\n                        lng,\r\n                        \"count\": cellEntry.routes.length\r\n                    })\r\n                });\r\n            });\r\n            const heatmapData = {\r\n                min: 0,\r\n                max: 1000,\r\n                data: _gridData\r\n            };\r\n            gridHeatmapLayer.setData(heatmapData);\r\n            return gridHeatmapLayer;\r\n        },\r\n        setupGridVehicleLayers() {\r\n            [\"combustion\", \"audi\", \"peugeot\", \"fiat\"].forEach((v) => {\r\n                const cfg = {\r\n                    // radius should be small ONLY if scaleRadius is true (or small radius is intended)\r\n                    // if scaleRadius is false it will be the constant radius used in pixels\r\n                    \"radius\": 0.1,\r\n                    \"maxOpacity\": 0.65,\r\n                    // scales the radius based on map zoom\r\n                    \"scaleRadius\": true,\r\n                    \"useLocalExtrema\": false,\r\n                    latField: 'lat',\r\n                    lngField: 'lng',\r\n                    // which field name in your data represents the data value - default \"value\"\r\n                    valueField: 'avg'\r\n                };\r\n                var gridHeatmapLayer = new HeatmapOverlay(cfg);\r\n                const _gridData = [];\r\n                var maxAvg = 0;\r\n                var minAvg = 100;\r\n                Object.keys(gridData).forEach((lat) => {\r\n                    const latEntry = gridData[lat];\r\n                    Object.keys(latEntry).forEach((lng) => {\r\n                        const cellEntry = latEntry[lng];\r\n                        const count = cellEntry[v].length;\r\n                        if (count == 0)\r\n                            return;\r\n                        const sum = (cellEntry[v]).reduce((a, b) => a + b, 0);\r\n                        const avg = (sum / cellEntry[v].length) || 0;\r\n                        if (avg > maxAvg)\r\n                            maxAvg = avg;\r\n                        if (avg < minAvg)\r\n                            minAvg = avg;\r\n                        _gridData.push({\r\n                            lat,\r\n                            lng,\r\n                            avg,\r\n                            count\r\n                        })\r\n                    });\r\n                });\r\n                const heatmapData = {\r\n                    min: minAvg,\r\n                    max: maxAvg,\r\n                    data: _gridData\r\n                };\r\n                gridHeatmapLayer.setData(heatmapData);\r\n                this.gridVehiclesLayer[v] = gridHeatmapLayer;\r\n            });\r\n        },\r\n        setupChargerHeatmap() {\r\n            if (this.chargerLayer)\r\n                this.chargerLayer.remove();\r\n            const cfg = {\r\n                // radius should be small ONLY if scaleRadius is true (or small radius is intended)\r\n                // if scaleRadius is false it will be the constant radius used in pixels\r\n                \"radius\": 0.02,\r\n                \"maxOpacity\": 0.65,\r\n                blur: 0.7,\r\n                // scales the radius based on map zoom\r\n                \"scaleRadius\": true,\r\n                \"useLocalExtrema\": false,\r\n                latField: 'lat',\r\n                lngField: 'long',\r\n                gradient: { \"1\": \"#c7639f\", \"0\": \"#ffffff\"},\r\n                // which field name in your data represents the data value - default \"value\"\r\n                valueField: 'count'\r\n            };\r\n            var heatmapLayer = new HeatmapOverlay(cfg);\r\n            const chargers = chargerData.filter((c) => {\r\n                if (!c.chargingPark)\r\n                    return false;\r\n                var powers = c.chargingPark.connectors;\r\n                if (!powers)\r\n                    return false;\r\n                powers = powers.map((conn) => conn.ratedPowerKW);\r\n                const max = Math.max(...powers);\r\n                return max >= this.chargerMinRatedKw;\r\n            })\r\n            this.chargerCount = chargers.length;\r\n            const improvedChargerData = chargers.map((c) => {\r\n                return {\r\n                    \"lat\": c.lat,\r\n                    \"long\": c.lon,\r\n                    \"count\": 1\r\n                };\r\n            });\r\n            const heatmapData = {\r\n                min: 0,\r\n                max: 1,\r\n                data: improvedChargerData\r\n            };\r\n            if (!this.showChargers)\r\n                return;\r\n            heatmapLayer.setData(heatmapData);\r\n            this.chargerLayer = heatmapLayer;\r\n            this.chargerLayer.addTo(this.map);\r\n        },\r\n        displayIonityChargers() {\r\n            if (this.ionityLayer)\r\n                this.ionityLayer.remove();\r\n            const layer = this.ionityLayer = L.layerGroup();\r\n            ionityChargers.locations.forEach((location) => {\r\n                const myIcon = L.icon({\r\n                    iconUrl: `https://ionity.eu/_Resources/Static/Packages/Ev.IonityPlace/Images/${location.status}.png`,\r\n                    iconSize: [20, 32],\r\n                });\r\n                const marker = L.marker(location, {icon: myIcon}).addTo(layer);\r\n                marker.bindTooltip(location.name);\r\n                const content = document.createElement(\"div\");\r\n                content.innerHTML = `<h4> ${location.name} </h4> <p> ${location.description} </p>`;\r\n                this.addNavigationButtons(content, marker.getLatLng());\r\n                marker.bindPopup(content);\r\n            });\r\n        },\r\n        loadLocalStorage() {\r\n            try {\r\n                this.input.apiKey = localStorage.getItem(\"API-Key\");\r\n                const rawVehicleData = localStorage.getItem(\"vehicleData\");\r\n                if (rawVehicleData) {\r\n                    this.input.vehicleData = rawVehicleData;\r\n                    this.vehicleData = JSON.parse(rawVehicleData);\r\n                }\r\n            }\r\n            catch (e) {\r\n                this.showError(\"Error while reading API-Key / Vehicle Data\", e);\r\n                console.warn(\"Error while reading API-Key / Vehicle Data\");\r\n                console.warn(e);\r\n            }\r\n            try {\r\n                const urlSearchParams = new URLSearchParams(window.location.search);\r\n                const params = Object.fromEntries(urlSearchParams.entries());\r\n                if (params.apiKey) {\r\n                    this.input.apiKey = params.apiKey\r\n                    localStorage.setItem(\"API-Key\", params.apiKey);\r\n                }\r\n                if(params.vehicleData) {\r\n                    this.vehicleData = JSON.parse(params.vehicleData);\r\n                    this.input.vehicleData = params.vehicleData;\r\n                    localStorage.setItem(\"vehicleData\", params.vehicleData);\r\n                }\r\n            } catch(e) {\r\n                this.showError(\"Error while reading API-Key / Vehicle Data from Query\", e);\r\n                console.warn(\"Error while reading API-Key / Vehicle Data from Query\");\r\n                console.warn(e);\r\n            }\r\n            try {\r\n                this.gasPrice = localStorage.getItem(\"gasPrice\") ? localStorage.getItem(\"gasPrice\") : this.gasPrice;\r\n                this.gasConsumption = localStorage.getItem(\"gasConsumption\") ? localStorage.getItem(\"gasConsumption\") : this.gasConsumption;\r\n                this.kWhPrice = localStorage.getItem(\"kWhPrice\") ? localStorage.getItem(\"kWhPrice\") : this.kWhPrice;\r\n            }\r\n            catch (e) {\r\n                console.warn(e);\r\n            }\r\n            try {\r\n                this.minRouteDistance = localStorage.getItem(\"minRouteDistance\") ? localStorage.getItem(\"minRouteDistance\") : this.minRouteDistance;\r\n                this.attributeToCompare = localStorage.getItem(\"attributeToCompare\") ? localStorage.getItem(\"attributeToCompare\") : this.attributeToCompare;\r\n            }\r\n            catch (e) {\r\n                console.warn(e);\r\n            }\r\n        },\r\n        saveAPIKey(e) {\r\n            if (e)\r\n                e.preventDefault();\r\n            localStorage.setItem(\"API-Key\", this.input.apiKey);\r\n            try {\r\n                if(!this.input.vehicleData) {\r\n                    return;\r\n                }\r\n                const rawVehicleData = this.input.vehicleData;\r\n                const parsedData = JSON.parse(rawVehicleData);\r\n                localStorage.setItem(\"vehicleData\", JSON.stringify(parsedData));\r\n                this.vehicleData = parsedData;\r\n            }\r\n            catch (err){\r\n                window.alert(err);\r\n                console.warn(err);\r\n            }\r\n        },\r\n        applyCostData(e) {\r\n            // e.preventDefault(); // This will prevent the page from reloading\r\n            localStorage.setItem(\"gasPrice\", this.gasPrice);\r\n            localStorage.setItem(\"gasConsumption\", this.gasConsumption);\r\n            localStorage.setItem(\"kWhPrice\", this.kWhPrice);\r\n        },\r\n        changeConstants(e) {\r\n            // e.preventDefault(); // This will prevent the page from reloading\r\n            localStorage.setItem(\"minRouteDistance\", this.minRouteDistance);\r\n            localStorage.setItem(\"attributeToCompare\", this.attributeToCompare);\r\n        },\r\n        resetLocalStorage() {\r\n            localStorage.clear();\r\n            console.warn(\"You cleared the local storage. Reload page to get default values.\");\r\n            this.saveAPIKey(null); // we don't want to lose this!\r\n        },\r\n        setupMap() {\r\n            this.map = L.map(\"map\", { zoomControl: false }).setView([51.163361, 10.447683], 7);\r\n            L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\r\n                attribution: `&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> <br />\r\n                <a href=\"https://github.com/ElectricVehicleChargingCoverage/Visualizations\"> GitHub-Code (private) </a><br />\r\n                Cities: ${cityData.length}, Routes: ${routeData.length}`,\r\n            }).addTo(this.map);\r\n            this.addLayers();\r\n            this.popup = L.popup();\r\n            this.map.on(\"click\", this.onMapClick);\r\n            // GRID:\r\n            this.cellCenterMarker = L.marker([0, 0]).addTo(this.gridLayer);\r\n            this.cellPolygon = L.polygon([[0,0]]).addTo(this.gridLayer);\r\n            this.map.on(\"mousemove\", this.onMouseMove);\r\n            // HELPER METHODS:\r\n            this.calculateRouteScores();\r\n            this.calculateCityScores();\r\n            this.calculateGlobalScores();\r\n            this.displayCities();\r\n        },\r\n        createVehicleLayer(name) {\r\n            if (this.vehicleLayers[name])\r\n                return;\r\n            this.vehicleLayers[name] = L.layerGroup().addTo(this.map);\r\n            this.vehicleLayers[name].on(\"add\", (e) => {\r\n                this.vehicleLayers[name].eachLayer((marker) => {\r\n                    if (!marker._icon) return;\r\n                    L.DomUtil.addClass(marker._icon, `${this.shortVehicleName(name)}-marker`)\r\n                });\r\n            });\r\n            if (this.vehicleControl)\r\n                this.map.removeControl(this.vehicleControl);\r\n            this.vehicleControl = L.control.layers({}, this.vehicleLayers, { collapsed: false }).addTo(this.map);\r\n        },\r\n        addLayers() {\r\n            const map = this.map;\r\n            this.rangeLayer = L.layerGroup().addTo(map);\r\n            this.cityLayer = L.layerGroup().addTo(map);\r\n            this.routeLayer = L.layerGroup().addTo(this.cityLayer);\r\n            this.heatmapLayer = this.setupRouteHeatmap();\r\n            this.gridHeatmapLayer = this.setupGridHeatmap();\r\n            this.displayIonityChargers();\r\n            this.setupGridVehicleLayers();\r\n            this.setupChargerHeatmap();\r\n            this.gridLayer = L.layerGroup();\r\n            this.overlayMaps = {\r\n                \"Scores\": this.cityLayer,\r\n                \"Routepoints\": this.heatmapLayer,\r\n                \"Grid points\": this.gridHeatmapLayer,\r\n                \"Grid helper\": this.gridLayer,\r\n                \"Reachable range\": this.rangeLayer,\r\n                \"IONITY Chargers\": this.ionityLayer\r\n            };\r\n            const vehicleHeatmaps = {\r\n                \"Audi E-Tron\": this.gridVehiclesLayer.audi,\r\n                \"Peugeot e208\": this.gridVehiclesLayer.peugeot,\r\n                \"Fiat 500e\": this.gridVehiclesLayer.fiat,\r\n                \"Combustion\": this.gridVehiclesLayer.combustion\r\n            }\r\n            L.control.layers({}, this.overlayMaps, { collapsed: false }).addTo(map);\r\n            L.control.layers({}, vehicleHeatmaps, { collapsed: false, position: \"bottomright\" }).addTo(map);\r\n        },\r\n        onMouseMove(e) {\r\n            this.mouseCoordinates = e.latlng;\r\n            const cellCenter = coordinatesToCellCenter(e.latlng);\r\n            const cellPolygon = coordinatesToCellPolygon(e.latlng);\r\n            // this.cellCenterMarker.setLatLng([cellCenter.lat, cellCenter.lng]);\r\n            this.cellPolygon.setLatLngs(cellPolygon);\r\n            const entry = gridData[cellCenter.lat] ? gridData[cellCenter.lat][cellCenter.lng] : null;\r\n            if (entry) {\r\n                this.cellPolygon.setStyle({color: \"blue\"});\r\n                [\"audi\", \"peugeot\", \"fiat\"].forEach((v) => {\r\n                    const sum = (entry[v]).reduce((a, b) => a + b, 0);\r\n                    const avg = (sum / entry[v].length) || 0;\r\n                    entry[`${v}avg`] = avg;\r\n                });\r\n                this.cellPolygon.bindPopup(\r\n                    `<h4> ${cellCenter.lat}, ${cellCenter.lng} </h4>\r\n                    <p> Total Routes: ${entry.routes.length} </p>\r\n                    <p> Combustion: ${entry.combustion.length} </p>\r\n                    <p> Audi: ${entry.audi.length} (${entry.audiavg}) </p>\r\n                    <p> Peugeot: ${entry.peugeot.length} (${entry.peugeotavg})</p>\r\n                    <p> Fiat: ${entry.fiat.length} (${entry.fiatavg})</p>`,\r\n                    { maxWidth: \"600\", className: \"grid-popup\" }\r\n                );\r\n            } else {\r\n                this.cellPolygon.setStyle({color: \"red\"})\r\n                this.cellPolygon.bindPopup(\r\n                    `<h4> ${cellCenter.lat}, ${cellCenter.lng} </h4>\r\n                    <h5> No routes </h5>`,\r\n                    { maxWidth: \"600\", className: \"grid-popup\" }\r\n                );\r\n            }\r\n        },\r\n        addNavigationButtons(target, latlng) {\r\n            const startButton = document.createElement(\"a\");\r\n            startButton.innerHTML = \"Route from here\";\r\n            startButton.setAttribute(\"href\", \"#\");\r\n            startButton.onclick = () => {this.setNavigationMarker(latlng, true)};\r\n            const destButton = document.createElement(\"a\");\r\n            destButton.innerHTML = \"Route here\";\r\n            destButton.setAttribute(\"href\", \"#\");\r\n            destButton.style.right = \"15px\";\r\n            destButton.style.position = \"absolute\";\r\n            destButton.onclick = () => {this.setNavigationMarker(latlng, false)};\r\n            target.appendChild(startButton);\r\n            target.appendChild(destButton);\r\n        },\r\n        onMapClick(e) {\r\n            // Create buttons to set navigation markers\r\n            const content = document.createElement(\"div\");\r\n            content.innerHTML = `<h4> ${e.latlng.lat.toFixed(5).toString()}, ${e.latlng.lng\r\n                        .toFixed(5)\r\n                        .toString()} </h4>`\r\n            this.addNavigationButtons(content, e.latlng);\r\n            this.popup\r\n                .setLatLng(e.latlng)\r\n                .setContent(\r\n                    content\r\n                )\r\n                .openOn(this.map);\r\n            this.routeLayer.clearLayers();\r\n        },\r\n        setNavigationMarker(latlng, isStart) {\r\n            this.popup.remove(); // close the popup\r\n            const idx = isStart ? \"start\" : \"dest\";\r\n            if (this.navigationMarker[idx])\r\n                this.navigationMarker[idx].remove();\r\n            const marker = L.marker(latlng, {draggable: true, autoPan: true}).addTo(this.map);\r\n            L.DomUtil.addClass(\r\n                marker._icon,\r\n                `${idx}-marker`\r\n            );\r\n            marker.on(\"moveend\", () => {this.calculateCustomRoute()});\r\n            this.navigationMarker[idx] = marker;\r\n            this.calculateCustomRoute();\r\n        },\r\n        copyNavigationRoute() {\r\n            if (!(this.navigationMarker[\"start\"] && this.navigationMarker[\"dest\"]))\r\n                return;\r\n            const start = this.navigationMarker[\"start\"].getLatLng();\r\n            const dest = this.navigationMarker[\"dest\"].getLatLng();\r\n            const coordinates = `${start.lat},${start.lng}:${dest.lat},${dest.lng}`;\r\n            const url = getOwnUrl(coordinates, this.vehicleData[0]);\r\n            navigator.clipboard.writeText(url);\r\n        },\r\n        copyLinkWithKey() {\r\n            // TODO: Copy link with API Key and vehicle data to clipboard\r\n        },\r\n        calculateCustomRoute() {\r\n            if (!(this.navigationMarker[\"start\"] && this.navigationMarker[\"dest\"]))\r\n                return;\r\n            const start = this.navigationMarker[\"start\"].getLatLng();\r\n            const dest = this.navigationMarker[\"dest\"].getLatLng();\r\n            this.calculateRoutes([[start.lat, start.lng], [dest.lat, dest.lng]]);\r\n        },\r\n        displayCities() {\r\n            const attributeToCompare = this.attributeToCompare\r\n            const cityMinMax = this.analyzeAttribute(this.cityData, attributeToCompare);\r\n            this.cityData.forEach((city) => {\r\n                const score = city[attributeToCompare][\"average\"];\r\n                if (!score) return;\r\n                const radius = this.cityCircleSize(city);\r\n                const color = this.getColor(cityMinMax, score);\r\n                const circle = L.circle([city.lat, city.long], {\r\n                    radius,\r\n                    color,\r\n                    fillOpacity: 0.4,\r\n                    stroke: false,\r\n                });\r\n                circle.bindPopup(\r\n                    `<h2>${city.name} (Score: ${score.toFixed(3)}) </h2>\r\n                    ${this.createCityInfoTable(city)} `,\r\n                    { maxWidth: \"600\", className: \"city-popup\" }\r\n                );\r\n                circle.bindTooltip(\r\n                    `${city.name} (Score: ${score.toFixed(3)}) `,\r\n                );\r\n                circle.on(\"click\", (e) => this.showRoutesFrom(city.name));\r\n                circle.addTo(this.cityLayer);\r\n            });\r\n        },\r\n        showRoutesFrom(startCity) {\r\n            const routes = this.getRoutesOfCity(startCity);\r\n            this.getOverheadScores(routes);\r\n            this.routeLayer.clearLayers(); // Remove previously shown routes\r\n            const minmax = this.analyzeAttribute(routes, this.attributeToCompare);\r\n            routes.forEach((route) => {\r\n                const score = route[this.attributeToCompare][\"average\"];\r\n                const latlngs = [\r\n                    [route[\"start_lat\"], route[\"start_long\"]],\r\n                    [route[\"dest_lat\"], route[\"dest_long\"]],\r\n                ];\r\n                const color = this.getColor(minmax, score);\r\n                var polyline = L.polyline(latlngs, { color, opacity: 0.7 });\r\n                polyline.bindTooltip(\r\n                    `${score.toFixed(3)}`\r\n                );\r\n                polyline.bindPopup(\r\n                    `<h2> ${route.Start} -> ${route.Ziel} (Score: ${score.toFixed(3)})</h2> ${this.createRouteInfoTable(route)}`,\r\n                    { maxWidth: \"600\", className: \"route-popup\" }\r\n                );\r\n                polyline.addTo(this.routeLayer);\r\n                polyline.on(\"click\", (e) => {\r\n                    this.calculateRoutes(latlngs);\r\n                });\r\n            });\r\n        },\r\n        clearVehicleLayers() {\r\n            Object.keys(this.vehicleLayers).forEach((layerName) => {\r\n                if (this.vehicleLayers[layerName])\r\n                    this.vehicleLayers[layerName].clearLayers();\r\n            });\r\n            this.rangeLayer.clearLayers();\r\n        },\r\n        displayChargingStop(stop, vehicle) {\r\n            Object.assign(stop, stop.chargingInformationAtEndOfLeg);\r\n            Object.assign(stop, stop.chargingConnectionInfo);\r\n            const icon = L.icon({\r\n                iconUrl: require(\"@/assets/images/ChargerIcon.png\"),\r\n                iconSize:     [40, 40],\r\n                iconAnchor:   [20, 40],\r\n                popupAnchor:  [0, 0]\r\n            });\r\n            var marker = L.marker(stop.location, {\r\n                title: stop.chargingParkName,\r\n                icon: icon,\r\n                opacity: 1,\r\n            }).addTo(this.vehicleLayers[vehicle.name]);\r\n            if (marker._icon)\r\n                L.DomUtil.addClass(\r\n                    marker._icon,\r\n                    `${this.shortVehicleName(vehicle.name)}-marker`\r\n                );\r\n            const infoTableObject = [ {name: vehicle.name, leg: stop}];\r\n            marker.bindPopup(\r\n                `<h2> ${stop.chargingParkName} (${\r\n                    stop.chargingParkExternalId\r\n                }) </h2> ${this.createChargerInfoTable(infoTableObject)}`,\r\n                { maxWidth: \"600\", className: \"charger-popup\" }\r\n            );\r\n            marker.on(\"click\", (e) => calculateReachableRange(stop.location, localStorage.getItem(\"API-Key\"), vehicle, stop.chargingInformationAtEndOfLeg.targetChargeInkWh, this.displayRange));\r\n        },\r\n        displayRoute(latlngs, summary, chargingStops, vehicleInfo) {\r\n            const polyline = L.polyline(latlngs);\r\n            polyline.bindPopup(this.getPopupFromSummary(summary, vehicleInfo), {\r\n                maxWidth: \"600\",\r\n                className: \"route-popup\",\r\n            });\r\n            polyline.bindTooltip(vehicleInfo.name);\r\n            this.createVehicleLayer(vehicleInfo.name);\r\n            var options = { opacity: 0.75 };\r\n            if (vehicleInfo.name == \"Combustion\") {\r\n                options.color = \"#000000\";\r\n                options.weight = 7;\r\n                options.opacity = 0.3;\r\n            } else {\r\n                chargingStops.forEach((stop) => {this.displayChargingStop(stop, vehicleInfo);});\r\n            }\r\n            if (vehicleInfo.color)\r\n                options.color = vehicleInfo.color;\r\n            polyline.setStyle(options);\r\n            polyline.addTo(this.vehicleLayers[vehicleInfo.name]);\r\n        },\r\n        // HELPER FILE HERE:\r\n        analyzeAttribute(data, attribute) {\r\n            const reducedData = data\r\n                .map(function (item) {\r\n                    return item[attribute][\"average\"];\r\n                })\r\n                .filter((value) => {\r\n                    return !isNaN(value);\r\n                });\r\n            return {\r\n                min: Math.min.apply(null, reducedData),\r\n                max: Math.max.apply(null, reducedData),\r\n            };\r\n        },\r\n        getOverheadScores(routes) {\r\n            routes.forEach((route) => {\r\n                const Fahrzeuge = route.Fahrzeuge;\r\n                const timeoverhead =\r\n                    (Fahrzeuge[1].dauer + Fahrzeuge[2].dauer + Fahrzeuge[3].dauer) /\r\n                    (3 * Fahrzeuge[0].dauer);\r\n                const umweg =\r\n                    (Fahrzeuge[1].strecke +\r\n                        Fahrzeuge[2].strecke +\r\n                        Fahrzeuge[3].strecke) /\r\n                    (3 * Fahrzeuge[0].strecke);\r\n                route[\"timeoverhead\"] = {};\r\n                route[\"timeoverhead\"][\"average\"] = timeoverhead;\r\n                route[\"umweg\"] = {};\r\n                route[\"umweg\"][\"average\"] = umweg;\r\n            });\r\n        },\r\n        getColor(minmax, value) {\r\n            const min = minmax.min;\r\n            const max = minmax.max;\r\n            if (value <= min) {\r\n                return \"rgb(0, 255, 0)\";\r\n            } else if (value >= max) {\r\n                return \"rgb(255, 0, 0)\";\r\n            } else {\r\n                const v = (value - min) / (max - min);\r\n                const red = Math.round(v * 255);\r\n                const green = 255 - red;\r\n                return `rgb(${red}, ${green}, 0)`;\r\n            }\r\n        },\r\n        createRouteInfoTable(route) {\r\n            const attributes = [\r\n                {\r\n                    display: \"Distance\",\r\n                    method: (vehicle) => {\r\n                        return vehicle[\"strecke\"]\r\n                            ? `${(vehicle[\"strecke\"] / 1000).toFixed(0)} km`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Distancefactor\",\r\n                    method: (vehicle, route) => {\r\n                        return route[\"distanceFactor\"][vehicle.name]\r\n                            ? `${parseFloat(\r\n                                route[\"distanceFactor\"][vehicle.name].toFixed(3)\r\n                            )}`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Distancedifference\",\r\n                    method: (vehicle, route) => {\r\n                        return route[\"distanceDifference\"][vehicle.name]\r\n                            ? `${parseFloat(\r\n                                (\r\n                                    route[\"distanceDifference\"][vehicle.name] / 1000\r\n                                ).toFixed(3)\r\n                            )} km`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Duration\",\r\n                    method: (vehicle) => {\r\n                        return vehicle[\"dauer\"] ? toHHMMSS(vehicle[\"dauer\"]) : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Timefactor\",\r\n                    method: (vehicle, route) => {\r\n                        return route[\"timeFactor\"][vehicle.name]\r\n                            ? `${parseFloat(\r\n                                route[\"timeFactor\"][vehicle.name].toFixed(3)\r\n                            )}`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Timedifference\",\r\n                    method: (vehicle, route) => {\r\n                        return route[\"timeDifference\"][vehicle.name]\r\n                            ? `${toHHMMSS(route[\"timeDifference\"][vehicle.name])}`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Consumption\",\r\n                    method: (vehicle) => {\r\n                        return vehicle[\"verbrauch\"]\r\n                            ? `${vehicle[\"verbrauch\"].toFixed(2)} ${\r\n                                vehicle.name == \"Verbrenner\" ? \"l\" : \"kWh\"\r\n                            }`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Remaining charge\",\r\n                    method: (vehicle) => {\r\n                        return vehicle[\"restreichweite\"]\r\n                            ? `${vehicle[\"restreichweite\"].toFixed(1)} kWh`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Charging time\",\r\n                    method: (vehicle) => {\r\n                        return vehicle[\"ladezeit\"]\r\n                            ? toHHMMSS(vehicle[\"ladezeit\"])\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Charging stops\",\r\n                    method: (vehicle) => {\r\n                        return vehicle[\"legs\"]\r\n                            ? vehicle[\"legs\"].length > 0\r\n                                ? vehicle[\"legs\"].length - 1\r\n                                : \"-\"\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Costs\",\r\n                    method: (vehicle) => {\r\n                        return vehicle[\"costs\"]\r\n                            ? `${vehicle[\"costs\"].toFixed(2)} &euro;`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Costs factor\",\r\n                    method: (vehicle, route) => {\r\n                        return route[\"costsFactor\"][vehicle.name]\r\n                            ? `${parseFloat(\r\n                                route[\"costsFactor\"][vehicle.name].toFixed(2)\r\n                            )}`\r\n                            : \"-\";\r\n                    },\r\n                },\r\n            ];\r\n            var table = `<table> <tr>\r\n                    <th> </th>\r\n                    <th>Combustion</th>\r\n                    <th>Audi E-Tron</th>\r\n                    <th>Peugeot e208</th>\r\n                    <th>Fiat 500e</th>\r\n                </tr>`;\r\n            attributes.forEach((attribute) => {\r\n                table += `<tr> <td> ${attribute.display} </td>`;\r\n                route.Fahrzeuge.forEach((fahrzeug) => {\r\n                    table += `<td> ${\r\n                        fahrzeug.strecke ? attribute.method(fahrzeug, route) : \"-\"\r\n                    } </td>`;\r\n                });\r\n                table += \"</tr> \";\r\n            });\r\n            table += \"</table> \";\r\n            return table;\r\n        },\r\n\r\n        createChargerInfoTable(chargerInfo) {\r\n            const attributes = [\r\n                {\r\n                    name: \"lengthInMeters\",\r\n                    display: \"Distance\",\r\n                    method: (e) => {\r\n                        return `${(e / 1000).toFixed(0)} km`;\r\n                    },\r\n                },\r\n                {\r\n                    name: \"travelTimeInSeconds\",\r\n                    display: \"Duration\",\r\n                    method: (e) => {\r\n                        return toHHMMSS(e);\r\n                    },\r\n                },\r\n                {\r\n                    name: \"batteryConsumptionInkWh\",\r\n                    display: \"Consumption\",\r\n                    method: (e) => {\r\n                        return e ? `${e.toFixed(2)} kWh` : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    name: \"remainingChargeAtArrivalInkWh\",\r\n                    display: \"Remaining Charge\",\r\n                    method: (e) => {\r\n                        return e ? `${e.toFixed(1)} kWh` : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    name: \"chargingTimeInSeconds\",\r\n                    display: \"Charging time\",\r\n                    method: (e) => {\r\n                        return e ? toHHMMSS(e) : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    name: \"targetChargeInkWh\",\r\n                    display: \"Target charge\",\r\n                    method: (e) => {\r\n                        return e ? `${e.toFixed(1)} kWh` : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    name: \"chargingPowerInkW\",\r\n                    display: \"Chargingpower\",\r\n                    method: (e) => {\r\n                        return e ? `${e} kW` : \"-\";\r\n                    },\r\n                },\r\n            ];\r\n            var table = `<table> <tr>\r\n                    <th>Since last stop</th>`;\r\n            chargerInfo.forEach((fahrzeug) => {\r\n                table += `<th> ${fahrzeug.name} </th>`;\r\n            });\r\n            table += `</tr>`;\r\n            attributes.forEach((attribute) => {\r\n                table += `<tr> <td> ${attribute.display} </td>`;\r\n                chargerInfo.forEach((fahrzeug) => {\r\n                    table += `<td> ${\r\n                        attribute.method\r\n                            ? attribute.method(fahrzeug.leg[attribute.name])\r\n                            : fahrzeug.leg[attribute.name]\r\n                    } </td>`;\r\n                });\r\n                table += \"</tr> \";\r\n            });\r\n            table += \"</table> \";\r\n            return table;\r\n        },\r\n\r\n        createCityInfoTable(city) {\r\n            const Vehicles = [\"Verbrenner\", \"Audi E-Tron\", \"Peugeot e208\", \"Fiat 500e\"];\r\n            const attributes = [\r\n                {\r\n                    display: \"Timefactor\",\r\n                    method: (city, vehicle) => {\r\n                        return parseFloat(city[\"timeFactor\"][vehicle].toFixed(3));\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Timedifference\",\r\n                    method: (city, vehicle) => {\r\n                        return toHHMMSS(city[\"timeDifference\"][vehicle]);\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Distance-factor\",\r\n                    method: (city, vehicle) => {\r\n                        return parseFloat(city[\"distanceFactor\"][vehicle].toFixed(3));\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Detour\",\r\n                    method: (city, vehicle) => {\r\n                        return `${\r\n                            city[\"distanceDifference\"][vehicle].toFixed(0) / 1000\r\n                        } km`;\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Costs\",\r\n                    method: (city, vehicle) => {\r\n                        return `${city[\"costs\"][vehicle].toFixed(2)} &euro;`;\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Cost factor\",\r\n                    method: (city, vehicle) => {\r\n                        return `${parseFloat(city[\"costsFactor\"][vehicle].toFixed(2))}`;\r\n                    },\r\n                },\r\n                {\r\n                    display: \"Number of routes\",\r\n                    method: (city, vehicle) => {\r\n                        const routes = this.getRoutesOfCity(city.name).filter((r) => {\r\n                            return r.distanceFactor[vehicle] != null;\r\n                        });\r\n                        return `${routes.length}`;\r\n                    },\r\n                },\r\n            ];\r\n            var table = `<table> <tr>\r\n                    <th>Averages</th>\r\n                    <th>Combustion</th>\r\n                    <th>Audi E-Tron</th>\r\n                    <th>Peugeot e208</th>\r\n                    <th>Fiat 500e</th>\r\n                </tr>`;\r\n            attributes.forEach((attribute) => {\r\n                table += `<tr> <td> ${attribute.display} </td>`;\r\n                Vehicles.forEach((vehicle) => {\r\n                    table += `<td> ${attribute.method(city, vehicle)} </td>`;\r\n                });\r\n                table += \"</tr> \";\r\n            });\r\n            table += \"</table> \";\r\n            return table;\r\n        },\r\n\r\n        compareVehicleScoresForCity(\r\n            city,\r\n            vehicle,\r\n            attribute,\r\n            get_difference = true\r\n        ) {\r\n            const routes = this.getRoutesOfCity(city.name);\r\n            const mapped = routes\r\n                .map((route) => {\r\n                    return route[\r\n                        `${attribute}${get_difference ? \"Difference\" : \"Factor\"}`\r\n                    ][vehicle];\r\n                })\r\n                .filter((value) => value != undefined);\r\n            const sum = mapped.reduce((a, b) => a + b, 0);\r\n            const avg = sum / mapped.length || 0;\r\n            return avg;\r\n        },\r\n\r\n        getCostsForRoutes() {\r\n            const gasConsumption = this.gasConsumption;\r\n            this.routeData.forEach((route) => {\r\n                route.Fahrzeuge.forEach((fahrzeug) => {\r\n                    if (fahrzeug.name == \"Verbrenner\") {\r\n                        const distance = fahrzeug[\"strecke\"];\r\n                        fahrzeug[\"verbrauch\"] = (distance * gasConsumption) / 100000;\r\n                        fahrzeug[\"costs\"] =\r\n                            ((distance * gasConsumption) / 100000) * this.gasPrice;\r\n                    } else {\r\n                        const consumption = fahrzeug[\"verbrauch\"];\r\n                        fahrzeug[\"costs\"] = consumption * this.kWhPrice;\r\n                    }\r\n                });\r\n            });\r\n        },\r\n\r\n        getCostsForCity(city, vehicle) {\r\n            const routes = this.getRoutesOfCity(city.name);\r\n            if (vehicle == \"Verbrenner\") {\r\n                const mapped = routes.map((route) => route.Fahrzeuge[0][\"strecke\"]);\r\n                const sum = mapped.reduce((a, b) => a + b, 0);\r\n                const avg = sum / mapped.length || 0;\r\n                return ((avg * this.gasConsumption) / 100000) * this.gasPrice;\r\n            } else {\r\n                const mapped = routes.map((route) => {\r\n                    return route.Fahrzeuge.filter((fahrzeug) => {\r\n                        return fahrzeug.name == vehicle;\r\n                    })[0][\"verbrauch\"];\r\n                });\r\n                const sum = mapped.reduce((a, b) => a + b, 0);\r\n                const avg = sum / mapped.length || 0;\r\n                return avg * this.kWhPrice;\r\n            }\r\n        },\r\n        getRoutesOfCity(cityname) {\r\n            return this.routeData.filter(\r\n                (route) =>\r\n                    route.Start == cityname &&\r\n                    this.getDistance(\r\n                        [route[\"start_lat\"], route[\"start_long\"]],\r\n                        [route[\"dest_lat\"], route[\"dest_long\"]]\r\n                    ) >= this.minRouteDistance\r\n            );\r\n        },\r\n        getDistance(latlng1, latlng2) {\r\n            const dy = 111.3 * (latlng1[0] - latlng2[0]);\r\n            const dx = 71.5 * (latlng1[1] - latlng2[1]);\r\n            return Math.sqrt(dx * dx + dy * dy); // in km\r\n        },\r\n        shortVehicleName(name) {\r\n            return name.split(\" \")[0];\r\n        },\r\n\r\n        httpGetAsync(theUrl, callback, callbackInfo = null) {\r\n            var xmlHttp = new XMLHttpRequest();\r\n            xmlHttp.onreadystatechange = function () {\r\n                if (xmlHttp.readyState == 4 && xmlHttp.status == 200)\r\n                    if (callbackInfo) callback(xmlHttp.responseText, callbackInfo);\r\n                    else callback(xmlHttp.responseText);\r\n            };\r\n            xmlHttp.open(\"GET\", theUrl, true); // true for asynchronous\r\n            xmlHttp.send(null);\r\n        },\r\n\r\n        httpPostAsync(theUrl, body, callback, callbackInfo = null) {\r\n            var xmlHttp = new XMLHttpRequest();\r\n            xmlHttp.onreadystatechange = function () {\r\n                if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\r\n                    if (callbackInfo) callback(xmlHttp.responseText, callbackInfo);\r\n                    else callback(xmlHttp.responseText);\r\n                } else if (xmlHttp.readyState == 4) {\r\n                    console.warn(xmlHttp.status, xmlHttp.responseText);\r\n                }\r\n            };\r\n            xmlHttp.open(\"POST\", theUrl, true); // true for asynchronous\r\n            xmlHttp.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n            xmlHttp.send(body);\r\n        },\r\n\r\n        getPopupFromSummary(summary, vehicleInfo) {\r\n            if (!summary)\r\n                return \"<h2> No summary provided </h2>\";\r\n            var result = `<h2> ${\r\n                vehicleInfo.name == \"Verbrenner\" ? \"Combustion (as infinite EV)\" : vehicleInfo.name\r\n            } </h2>\r\n            <table> <tr> <th> Attribute </th> <th> Value </th> </tr>`;\r\n            const attributes = [\r\n                {\r\n                    name: \"Distance\",\r\n                    method: (s) => {\r\n                        return `${(s.lengthInMeters / 1000).toFixed(1)} km`;\r\n                    },\r\n                },\r\n                {\r\n                    name: \"Traveltime\",\r\n                    method: (s) => {\r\n                        return toHHMMSS(s.travelTimeInSeconds);\r\n                    },\r\n                },\r\n                {\r\n                    name: \"Charging time\",\r\n                    method: (s) => {\r\n                        return s.totalChargingTimeInSeconds ? toHHMMSS(s.totalChargingTimeInSeconds) : \"-\";\r\n                    },\r\n                },\r\n                {\r\n                    name: \"Battery consumption\",\r\n                    method: (s) => {\r\n                        if (!s.batteryConsumptionInkWh)\r\n                            return \"-\";\r\n                        return `${Math.floor(s.batteryConsumptionInkWh * 100) / 100} kWh`;\r\n                    },\r\n                },\r\n                {\r\n                    name: \"Remaining charge\",\r\n                    method: (s) => {\r\n                        if (!s.remainingChargeAtArrivalInkWh)\r\n                            return \"-\";\r\n                        return `${Math.floor(s.remainingChargeAtArrivalInkWh * 100) / 100} kWh`;\r\n                    },\r\n                },\r\n                {\r\n                    name: \"Gasoline Costs\",\r\n                    method: (s) => {\r\n                        return `${(((s.lengthInMeters * this.gasConsumption) / 100000) * this.gasPrice).toFixed(2)} &euro;`;\r\n                    },\r\n                },\r\n                {\r\n                    name: \"EV Costs\",\r\n                    method: (s) => {\r\n                        if (!s.batteryConsumptionInkWh)\r\n                            return \"-\";\r\n                        return `${(s.batteryConsumptionInkWh * this.kWhPrice).toFixed(2)} &euro;`;\r\n                    },\r\n                },\r\n            ];\r\n            attributes.forEach((attribute) => {\r\n                const data = attribute.method(summary);\r\n                result += `<tr> <td> ${attribute.name} </td> <td> ${data} </td></tr>`;\r\n            });\r\n            result += \"</table>\";\r\n            return result;\r\n        },\r\n        calculateCityScores() {\r\n            const Vehicles = [\"Verbrenner\", \"Audi E-Tron\", \"Peugeot e208\", \"Fiat 500e\"];\r\n            const attributes = [\r\n                {\r\n                    name: \"timeFactor\",\r\n                    method: (a, b) => {\r\n                        return this.compareVehicleScoresForCity(a, b, \"time\", false);\r\n                    },\r\n                },\r\n                {\r\n                    name: \"timeDifference\",\r\n                    method: (a, b) => {\r\n                        return this.compareVehicleScoresForCity(a, b, \"time\", true);\r\n                    },\r\n                },\r\n                {\r\n                    name: \"distanceFactor\",\r\n                    method: (a, b) => {\r\n                        return this.compareVehicleScoresForCity(a, b, \"distance\", false);\r\n                    },\r\n                },\r\n                {\r\n                    name: \"distanceDifference\",\r\n                    method: (a, b) => {\r\n                        return this.compareVehicleScoresForCity(a, b, \"distance\", true);\r\n                    },\r\n                },\r\n                {\r\n                    name: \"costs\",\r\n                    method: (a, b) => {\r\n                        return this.getCostsForCity(a, b);\r\n                    },\r\n                },\r\n                {\r\n                    name: \"costsFactor\",\r\n                    method: (city, vehicle) => {\r\n                        return city[\"costs\"][vehicle] / city[\"costs\"][\"Verbrenner\"];\r\n                    },\r\n                },\r\n            ];\r\n            cityData.forEach((city) => {\r\n                attributes.forEach((attribute) => {\r\n                    city[attribute.name] = {};\r\n                    var sum = 0;\r\n                    var count = 0;\r\n                    Vehicles.forEach((vehicle) => {\r\n                        city[attribute.name][vehicle] = attribute.method(city, vehicle);\r\n                        if (\r\n                            vehicle == \"Verbrenner\" ||\r\n                            city[attribute.name][vehicle] == 0\r\n                        )\r\n                            return;\r\n                        sum += city[attribute.name][vehicle];\r\n                        count += 1;\r\n                    });\r\n                    city[attribute.name][\"average\"] = sum / count;\r\n                });\r\n            });\r\n        },\r\n        calculateRouteScores() {\r\n            const attributes = [\r\n                { name: \"strecke\", new: \"distance\" },\r\n                { name: \"dauer\", new: \"time\" },\r\n                { name: \"costs\", new: \"costs\" },\r\n            ];\r\n            this.getCostsForRoutes();\r\n            this.routeData.forEach((route) => {\r\n                attributes.forEach((attribute) => {\r\n                    route[`${attribute.new}Factor`] = {};\r\n                    route[`${attribute.new}Difference`] = {};\r\n                    var sumFactor = 0;\r\n                    var sumDifference = 0;\r\n                    var count = 0;\r\n                    route.Fahrzeuge.forEach((fahrzeug) => {\r\n                        if (fahrzeug.strecke == null) return;\r\n                        const combustionAttribute = route.Fahrzeuge[0][attribute.name];\r\n                        const vehicleAttribute = fahrzeug[attribute.name];\r\n                        route[`${attribute.new}Factor`][fahrzeug.name] =\r\n                            vehicleAttribute / combustionAttribute;\r\n                        route[`${attribute.new}Difference`][fahrzeug.name] =\r\n                            vehicleAttribute - combustionAttribute;\r\n                        if (fahrzeug.name == \"Verbrenner\") return;\r\n                        sumFactor += route[`${attribute.new}Factor`][fahrzeug.name];\r\n                        sumDifference +=\r\n                            route[`${attribute.new}Difference`][fahrzeug.name];\r\n                        count += 1;\r\n                    });\r\n                    route[`${attribute.new}Factor`][\"average\"] = sumFactor / count;\r\n                    route[`${attribute.new}Difference`][\"average\"] =\r\n                        sumDifference / count;\r\n                });\r\n            });\r\n        },\r\n        calculateGlobalScores() {\r\n            const attributes = [\"distance\", \"time\", \"costs\"];\r\n            var result = \"\";\r\n            attributes.forEach((attribute) => {\r\n                const mapped = cityData\r\n                    .map((city) => city[`${attribute}Factor`][\"average\"])\r\n                    .filter((value) => !isNaN(value));\r\n                const value = mapped.reduce((a, b) => a + b, 0) / mapped.length;\r\n                result += `${attribute} factor: ${parseFloat(value.toFixed(3))} <br />`;\r\n            });\r\n            $(\"#global-scores\").html(result);\r\n        },\r\n        cityCircleSize(city) {\r\n            const score = city[this.attributeToCompare][\"average\"];\r\n            switch (this.attributeToCompare) {\r\n                case \"timeFactor\":\r\n                    return 3000 * Math.pow(score, 5);\r\n                case \"distanceFactor\":\r\n                    return 12000 * Math.pow((score - 1) * 5 + 1, 9);\r\n                case \"costsFactor\":\r\n                    return 100 * Math.pow(score * 5, 5);\r\n            }\r\n            return 10000;\r\n        },\r\n        /**\r\n         * Calculates routes for all vehicles: combustion vehicle and all vehicles spedified in this.vehicleData.\r\n         * Requires a valid API-Key in localStorage \"API-Key\".\r\n         * @param {[[startLat, startLong], [destLat, destLong]]} coords Coordinates of the start and destination point.\r\n         */\r\n        calculateRoutes(coords) {\r\n            this.clearVehicleLayers(); // Clear previous routes\r\n            const coordinates = `${coords[0][0]},${coords[0][1]}:${coords[1][0]},${coords[1][1]}`;\r\n            const key = localStorage.getItem(\"API-Key\");\r\n            if (key && key.match(\"[a-zA-Z0-9]{30,35}\")) {\r\n                calculateCombustionRoute(coordinates, key, this.displayAPIResult);\r\n                if (!this.vehicleData || this.vehicleData.length == 0) {\r\n                    console.warn(\"Please enter vehicleData suitable for routing to use this feature.\");\r\n                    return;\r\n                }\r\n                calculateEVRoutes(coordinates, key, this.vehicleData, this.displayAPIResult, this);\r\n            } else if (!key || key == \"\"){\r\n                console.warn(\"Enter an API Key to show the actual routes\");\r\n            } else {\r\n                window.alert(\r\n                    `Invalid API-Key: \"${key}\". If you are sure, that your key is correct, notify us to adapt the regex for evaluating.`\r\n                );\r\n            }\r\n        },\r\n\r\n        displayAPIResult(response, vehicleInfo) {\r\n            const json = JSON.parse(response);\r\n            const route = json.routes[0];\r\n            const legs = route.legs;\r\n            const summary = route.summary;\r\n            const latlngs = [];\r\n            const chargingStops = [];\r\n            legs.forEach((leg) => {\r\n                const points = leg.points;\r\n                points.forEach((point) => {\r\n                    latlngs.push([point.latitude, point.longitude]);\r\n                });\r\n                if (!leg.summary)\r\n                    return;\r\n                if (leg.summary.chargingInformationAtEndOfLeg == null) return;\r\n                leg.summary[\"location\"] = latlngs[latlngs.length - 1]; // set last point of leg as charger location\r\n                chargingStops.push(leg.summary);\r\n            });\r\n            this.displayRoute(latlngs, summary, chargingStops, vehicleInfo);\r\n        },\r\n\r\n        displayRange(response, vehicleInfo) {\r\n            const json = JSON.parse(response);\r\n            this.rangeLayer.clearLayers();\r\n            const boundary = json.reachableRange.boundary;\r\n            const latlngs = boundary.map(coords => [coords.latitude, coords.longitude]);\r\n            const options = {\r\n                opacity: 0.3,\r\n            };\r\n            const polygon = L.polygon(latlngs, options).addTo(this.rangeLayer);\r\n            polygon.bringToBack();\r\n        }\r\n    }\r\n}","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!./Map.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!./Map.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=79bead4a&\"\nimport script from \"./Map.js?vue&type=script&lang=js&\"\nexport * from \"./Map.js?vue&type=script&lang=js&\"\nimport style0 from \"./Map.css?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Map/>\n  </div>\n</template>\n\n<script>\nimport Map from './components/Map/Map.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Map\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2eb0477a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\r\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\r\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\")\r\n});\r\n\r\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\r\n\r\n// Import Bootstrap an BootstrapVue CSS files (order is important)\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\nimport 'bootstrap-icons/font/bootstrap-icons.css'\r\nimport '@/assets/css/main.css'\r\n\r\nVue.use(BootstrapVue)\r\n// Optionally install the BootstrapVue icon components plugin\r\nVue.use(IconsPlugin)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/OverheadVisualization/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvisualization\"] = self[\"webpackChunkvisualization\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(978); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["name","context","factory","module","exports","require","define","this","h337","L","Layer","Class","HeatmapOverlay","extend","initialize","config","cfg","_el","DomUtil","create","_data","_max","_min","container","onAdd","map","size","getSize","_map","_width","x","_height","y","style","width","height","position","_origin","layerPointToLatLng","Point","getPanes","overlayPane","appendChild","_heatmap","on","_reset","_draw","addTo","addLayer","onRemove","removeChild","off","mapPane","point","_leaflet_pos","CSS_TRANSFORM","Math","round","_update","bounds","zoom","scale","generatedData","max","min","data","getBounds","getZoom","pow","length","latLngPoints","radiusMultiplier","scaleRadius","localMax","localMin","valueField","len","entry","value","latlng","contains","radius","latLngToContainerPoint","latlngPoint","push","useLocalExtrema","setData","latField","lngField","d","LatLng","dataObj","addData","pointOrArray","_renderer","setDimensions","div","document","createElement","props","i","prop","undefined","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_v","_s","mouseCoordinates","lat","toFixed","lng","_e","directives","rawName","modifiers","navigationMarkersSet","copyNavigationRoute","saveAPIKey","model","input","callback","$$v","$set","expression","applyCostData","gasPrice","gasConsumption","kWhPrice","changeConstants","minRouteDistance","comparableAttributes","attributeToCompare","resetLocalStorage","setupChargerHeatmap","chargerMinRatedKw","chargerCount","showChargers","vehicleData","updateVehicleData","displayCustomRoute","_l","vehicle","idx","key","staticStyle","$event","deleteVehicle","attribute","placeholder","type","step","addVehicle","update","loadData","downloadData","attributes","label","required","watch","methods","a","title","autoHideDelay","variant","component","process","clear","BOTTOM_LEFT","coordinatesToCellCenter","coordinates","cellsize","kmCoordinates","coordinateDifferenceInKm","cell","gridCellFromKm","cellToCenterCoordinates","coordinatesToCellPolygon","cellToPolygon","latlng1","latlng2","dy","dx","distance","sqrt","kmToCoordinates","positionOffset","floor","cellIndizes","left","right","bottom","top","bottomLeft","bottomRight","topLeft","topRight","baseUrlCombustion","baseUrlEV","baseUrlRange","baseUrlCustom","traffic","DEFAULTS","CURRENT_CHARGE_PCT","MIN_CHARGE_AT_CHARGING_STOP","MIN_CHARGE_AT_DESTINATION","calculateCombustionRoute","url","httpGetAsync","calculateEVRoutes","forEach","active","calculateEVRoute","calculateOwnEVRoute","JSON","parse","stringify","getOwnUrl","defaults","maxCharge","constantSpeedConsumption","currentChargeInkWh","minChargeAtDestinationInkWh","minChargeAtChargingStopsInkWh","color","httpPostAsync","body","weight","uphillEfficiency","downhillEfficiency","auxiliaryPower","calculateReachableRange","energyBudgetInkWh","theUrl","callbackInfo","xmlHttp","XMLHttpRequest","onreadystatechange","readyState","status","responseText","$bvToast","toast","noAutoHide","console","warn","open","send","setRequestHeader","toHHMMSS","secs","sec_num","parseInt","hours","minutes","seconds","v","filter","join","components","VehicleSidebar","CustomRoute","routeLayer","vehicleLayers","vehicleControl","heatmapLayer","gridHeatmapLayer","gridVehiclesLayer","rangeLayer","chargerLayer","ionityLayer","cityLayer","gridLayer","navigationMarker","start","dest","overlayMaps","popup","cityData","routeData","exampleVehicles","text","cellCenterMarker","cellPolygon","apiKey","computed","mounted","loadLocalStorage","setupMap","response","vehicleInfo","displayAPIResult","showError","message","localStorage","setItem","setupRouteHeatmap","heatmapRouteLayer","heatmapData","pointData","setupGridHeatmap","_gridData","Object","keys","gridData","latEntry","cellEntry","routes","setupGridVehicleLayers","maxAvg","minAvg","count","sum","reduce","b","avg","remove","blur","gradient","chargers","chargerData","c","chargingPark","powers","connectors","conn","ratedPowerKW","improvedChargerData","lon","displayIonityChargers","layer","layerGroup","ionityChargers","location","myIcon","icon","iconUrl","iconSize","marker","bindTooltip","content","innerHTML","description","addNavigationButtons","getLatLng","bindPopup","getItem","rawVehicleData","e","urlSearchParams","URLSearchParams","window","search","params","fromEntries","entries","preventDefault","parsedData","err","alert","zoomControl","setView","tileLayer","attribution","addLayers","onMapClick","polygon","onMouseMove","calculateRouteScores","calculateCityScores","calculateGlobalScores","displayCities","createVehicleLayer","eachLayer","_icon","addClass","shortVehicleName","removeControl","control","layers","collapsed","vehicleHeatmaps","audi","peugeot","fiat","combustion","cellCenter","setLatLngs","setStyle","audiavg","peugeotavg","fiatavg","maxWidth","className","target","startButton","setAttribute","onclick","setNavigationMarker","destButton","toString","setLatLng","setContent","openOn","clearLayers","isStart","draggable","autoPan","calculateCustomRoute","navigator","clipboard","writeText","copyLinkWithKey","calculateRoutes","cityMinMax","analyzeAttribute","city","score","cityCircleSize","getColor","circle","long","fillOpacity","stroke","createCityInfoTable","showRoutesFrom","startCity","getRoutesOfCity","getOverheadScores","minmax","route","latlngs","polyline","opacity","Start","Ziel","createRouteInfoTable","clearVehicleLayers","layerName","displayChargingStop","stop","assign","chargingInformationAtEndOfLeg","chargingConnectionInfo","iconAnchor","popupAnchor","chargingParkName","infoTableObject","leg","chargingParkExternalId","createChargerInfoTable","targetChargeInkWh","displayRange","displayRoute","summary","chargingStops","getPopupFromSummary","options","reducedData","item","isNaN","apply","Fahrzeuge","timeoverhead","dauer","umweg","strecke","red","green","display","method","parseFloat","table","fahrzeug","chargerInfo","Vehicles","r","distanceFactor","compareVehicleScoresForCity","get_difference","mapped","getCostsForRoutes","consumption","getCostsForCity","cityname","getDistance","split","result","s","lengthInMeters","travelTimeInSeconds","totalChargingTimeInSeconds","batteryConsumptionInkWh","remainingChargeAtArrivalInkWh","new","sumFactor","sumDifference","combustionAttribute","vehicleAttribute","$","html","coords","match","json","legs","points","latitude","longitude","boundary","reachableRange","bringToBack","Map","iconRetinaUrl","shadowUrl","Vue","BootstrapVue","IconsPlugin","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}